import{d as B,c as w,o as F,i as p,e as C,b as e,u as s,y as o,f as N,H as r,I as d,C as i,t as f,w as T,g as z,z as M,h as b}from"./index-n62W8uT2.js";import{L as j}from"./index-3zDf_1eA.js";import{u as H}from"./cart-cBbHnjmY.js";import{u as I,t as O,c as P,a as m}from"./vee-validate-yup-BG4HoJu2.js";import{_ as R}from"./OrderList.vue_vue_type_script_setup_true_lang-9gW3Tfex.js";import"./_commonjsHelpers-C932wzq6.js";import"./sweetalert2.esm.all-B0Dix5B2.js";import"./index-DW_MHI2K.js";import"./format-DIAi3n-z.js";const G={class:"container"},J={class:"mt-3 pb-5"},K={class:"mt-3 mb-4 animated slide-left-start"},Q={class:"row"},W={class:"col-md-8 animated slide-left-start"},X={class:"justify-content-center"},Y={class:"mb-3"},Z={class:"text-danger py-1"},tt={class:"mb-3"},et={class:"text-danger py-1"},st={class:"mb-3"},at={class:"text-danger py-1"},ot={class:"mb-3"},lt={class:"text-danger py-1"},nt={class:"mb-3"},rt={class:"col-md-4 animated slide-right-start"},dt={class:"border p-4 mb-4"},xt=B({__name:"FrontCheckout",setup(it){const u=H(),D=w(()=>u.cartData),h=w(()=>u.isLoading),{handleSubmit:A,defineField:n,errors:c}=I({validationSchema:O(P({email:m().required("*Email為必填").email("*請輸入有效的 Email").default(""),tel:m().required("*電話為必填").matches(/^\d+$/,"*電話號碼格式錯誤").default(""),name:m().required("*姓名為必填").default(""),address:m().required("*地址為必填").default(""),message:m().default("")}))}),[v,E]=n("email"),[_,U]=n("tel"),[g,q]=n("name"),[x,L]=n("address"),[y,$]=n("message"),S=A((l,{resetForm:t})=>{const V={user:{name:l.name||"",email:l.email||"",tel:l.tel||"",address:l.address||""},message:l.message||""};u.createOrder(V,t)});return F(()=>{u.getCarts()}),(l,t)=>{const V=z("router-link"),k=M("intersect");return b(),p("div",G,[C(s(j),{active:h.value,"z-index":1060},null,8,["active"]),e("div",J,[o((b(),p("h3",K,t[6]||(t[6]=[N(" 訂購資訊 ")]))),[[k,{animation:"slide-left"}]]),e("div",Q,[o((b(),p("div",W,[e("div",X,[e("form",{class:"g-3",onSubmit:t[5]||(t[5]=(...a)=>s(S)&&s(S)(...a)),ref:"form"},[e("div",Y,[t[7]||(t[7]=e("label",{for:"email",class:"form-label"},"Email",-1)),o(e("input",r({"onUpdate:modelValue":t[0]||(t[0]=a=>d(v)?v.value=a:null)},s(E),{type:"text",name:"email",class:"form-control",id:"email",placeholder:"請輸入Email"}),null,16),[[i,s(v)]]),e("div",Z,f(s(c).email),1)]),e("div",tt,[t[8]||(t[8]=e("label",{for:"name",class:"form-label"},"訂購人姓名",-1)),o(e("input",r({"onUpdate:modelValue":t[1]||(t[1]=a=>d(g)?g.value=a:null)},s(q),{type:"text",name:"姓名",class:"form-control",id:"name",placeholder:"請輸入姓名"}),null,16),[[i,s(g)]]),e("div",et,f(s(c).name),1)]),e("div",null,[e("div",st,[t[9]||(t[9]=e("label",{for:"tel",class:"form-label"},"訂購人電話",-1)),o(e("input",r({"onUpdate:modelValue":t[2]||(t[2]=a=>d(_)?_.value=a:null)},s(U),{class:"form-control",type:"text",name:"電話",id:"tel",placeholder:"請輸入電話"}),null,16),[[i,s(_)]]),e("div",at,f(s(c).tel),1)]),e("div",ot,[t[10]||(t[10]=e("label",{for:"address",class:"form-label"},"訂購人地址",-1)),o(e("input",r({"onUpdate:modelValue":t[3]||(t[3]=a=>d(x)?x.value=a:null)},s(L),{class:"form-control",type:"text",name:"地址",id:"address",placeholder:"請輸入地址"}),null,16),[[i,s(x)]]),e("div",lt,f(s(c).address),1)]),e("div",nt,[t[11]||(t[11]=e("label",{for:"message",class:"form-label"},"備註",-1)),o(e("textarea",r({"onUpdate:modelValue":t[4]||(t[4]=a=>d(y)?y.value=a:null)},s($),{class:"form-control",type:"text",id:"message",cols:"30",rows:"3"}),"                  ",16),[[i,s(y)]])]),t[12]||(t[12]=e("div",{class:"text-end"},[e("button",{type:"submit",class:"rounded btn btn-dark mb-3"},"訂單送出")],-1))])],544)])])),[[k,{animation:"slide-left"}]]),o((b(),p("div",rt,[e("div",dt,[C(R,{"cart-data":D.value},null,8,["cart-data"]),C(V,{to:"/cart"},{default:T(()=>t[13]||(t[13]=[e("button",{type:"button",class:"btn btn-dark w-100 mt-4 rounded"},"回上一頁",-1)])),_:1})])])),[[k,{animation:"slide-right"}]])])])])}}});export{xt as default};
