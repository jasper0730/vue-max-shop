import{d as y,c as h,r as C,o as x,i as a,e as r,b as t,u as d,y as c,f,B as D,F as L,x as N,C as V,k as g,w as k,g as $,t as b,z as B,h as l}from"./index-Dw_dclxC.js";import{c as F}from"./format-DIAi3n-z.js";import{L as I}from"./index-C8upLrVo.js";import{u as M}from"./cart-DO09u4lw.js";import{_ as T}from"./OrderList.vue_vue_type_script_setup_true_lang-4WeLGwww.js";import"./_commonjsHelpers-C932wzq6.js";import"./sweetalert2.esm.all-B0Dix5B2.js";import"./index-DW_MHI2K.js";const z={class:"container"},S={class:"pt-3 pb-5"},U={class:"mt-3 mb-4 fw-bold animated slide-left-start"},j={class:"row"},q={class:"col-md-8 animated slide-left-start"},E={class:"table"},A={class:"border-0 px-0 py-4"},G={class:"d-flex align-items-center"},H=["src"],J={class:"my-0 ms-2"},K={class:"border-0 align-middle",style:{"max-width":"160px"}},O={class:"d-flex flex-nowrap align-items-center"},P=["onClick"],Q=["onClick"],R={class:"border-0 align-middle"},W={class:"mb-0 ms-auto"},X={class:"border-0 align-middle"},Y=["onClick"],Z={key:0,class:"my-5 text-center fs-5"},tt={class:"input-group w-100 mb-3"},st=["disabled"],et={class:"input-group-append"},ot=["disabled"],nt={key:0},at={key:1},lt={class:"col-md-4 animated slide-right-start"},dt={class:"border p-4 mb-4"},it=["disabled"],gt=y({__name:"FrontCarts",setup(rt){const n=M(),e=h(()=>n.cartData),w=h(()=>n.isLoading),i=C("helloworld520");return x(()=>{n.getCarts()}),(ct,s)=>{var _,m;const p=$("router-link"),u=B("intersect");return l(),a("div",z,[r(d(I),{active:w.value,"z-index":1060},null,8,["active"]),t("div",S,[c((l(),a("h3",U,s[2]||(s[2]=[f("購物車")]))),[[u,{animation:"slide-left"}]]),t("div",j,[c((l(),a("div",q,[t("table",E,[s[6]||(s[6]=t("thead",null,[t("tr",null,[t("th",{width:"40%",class:"border-0 w-100"},"品項"),t("th",{width:"20%",class:"border-0 w-100"},"數量"),t("th",{width:"20%",class:"border-0 w-100"},"金額"),t("th",{width:"20%",class:"border-0 w-100"})])],-1)),t("tbody",null,[(l(!0),a(L,null,N(e.value.carts,o=>(l(),a("tr",{class:"border-bottom border-top",key:o.id},[t("td",A,[t("div",G,[t("div",null,[t("img",{src:o.product.imageUrl,alt:"產品圖片",style:{width:"72px",height:"72px"},class:"object-fit"},null,8,H)]),t("div",null,[t("p",J,b(o.product.title),1)])])]),t("td",K,[t("div",O,[t("button",{type:"button",class:"btn btn-outline-dark border-0 btn-sm rounded me-1",onClick:v=>d(n).updateItem(o,"decrease")},s[3]||(s[3]=[t("i",{class:"bi bi-dash-lg"},null,-1)]),8,P),f(" "+b(o.qty)+" ",1),t("button",{type:"button",class:"btn btn-outline-dark border-0 btn-sm rounded ms-1",onClick:v=>d(n).updateItem(o,"increase")},s[4]||(s[4]=[t("i",{class:"bi bi-plus-lg"},null,-1)]),8,Q)])]),t("td",R,[t("p",W," NT$ "+b(d(F)(o.total)),1)]),t("td",X,[t("button",{type:"button",class:"btn btn-outline-dark border-0 py-2 rounded",onClick:g(v=>d(n).removeItem(o),["prevent"])},s[5]||(s[5]=[t("i",{class:"bi bi-x-lg"},null,-1)]),8,Y)])]))),128))])]),!e.value||!((_=e.value.carts)!=null&&_.length)?(l(),a("p",Z," 目前沒有商品，請加入購物車，謝謝您 ")):D("",!0),t("div",tt,[c(t("input",{default:"1",type:"text",class:"form-control rounded shadow-none bg-light",placeholder:"Coupon Code","onUpdate:modelValue":s[0]||(s[0]=o=>i.value=o),disabled:e.value.final_total!==e.value.total||!e.value.carts},null,8,st),[[V,i.value]]),t("div",et,[t("button",{class:"btn btn-dark rounded",type:"button",id:"button-addon2",onClick:s[1]||(s[1]=g(()=>d(n).addCoupon(i.value),["prevent"])),disabled:d(n).useCoupon||!i.value||e.value.final_total!==e.value.total||!((m=e.value.carts)!=null&&m.length)},[d(n).useCoupon||e.value.final_total!==e.value.total?(l(),a("span",nt,"已套用優惠券")):(l(),a("span",at,"套用優惠券"))],8,ot)])])])),[[u,{animation:"slide-left"}]]),c((l(),a("div",lt,[t("div",dt,[r(T,{"cart-data":e.value},null,8,["cart-data"]),r(p,{to:"/check"},{default:k(()=>{var o;return[t("button",{type:"button",class:"btn btn-dark w-100 mt-4 rounded",disabled:!e.value.carts||!((o=e.value.carts)!=null&&o.length)}," 結帳 ",8,it)]}),_:1}),r(p,{to:"/products"},{default:k(()=>s[7]||(s[7]=[t("button",{type:"button",class:"btn btn-dark w-100 mt-2 rounded"}," 繼續購物 ",-1)])),_:1})])])),[[u,{animation:"slide-right"}]])])])])}}});export{gt as default};
